---
import { getCollection } from "astro:content";
import ProductBenefits from "./list";

type Props = {
  benefitIds: string[];
  productName: string;
};

const { benefitIds, productName } = Astro.props;

const benefitsData = await getCollection("benefits");
const productBenefits = benefitsData
  .filter((benefit) => benefitIds.includes(benefit.id))
  .map((benefit) => {
    return {
      title: benefit.data.Title,
      description: benefit.data.Description,
      icon: benefit.data.Icon,
    };
  }) as {
  title: string;
  description: string;
  icon: string;
}[];
---

<ProductBenefits benefits={productBenefits} productName={productName} />
